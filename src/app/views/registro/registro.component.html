<app-header></app-header>
<!-- ======= Hero Section ======= -->
<div *ngIf="pantallaCarga" class="loading">
    <div class="d-flex justify-content-center align-items-center" style="height: 100%;">
        <div class="spinner-border text-light" role="status" style="width: 6rem; height: 6rem;">
            <span class="sr-only"></span>
        </div>
    </div>
</div>
<section id="hero">
    <div class="hero-container" data-aos="zoom-in" data-aos-delay="100">
        <h1 class="mb-4 pb-0">Registro </h1>
    </div>
</section><!-- End Hero Section -->
<!-- ======= Registro Section ======= -->
<section id="registro" class="section-bg row">

    <div class="container col-5" data-aos="fade-up">

        <div class="form">
            <form class="php-email-form" [formGroup]="formularioRegistro" (ngSubmit)="enviarFormulario()"
                enctype="multipart/form-data">

                <label for="name">Nombre</label>
                <input type="text" class="form-control" formControlName="nombre" placeholder="Nombre">
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['nombre'].invalid" class="error">
                    <div *ngIf="formularioRegistro.get('nombre')?.errors?.['required']">
                        El nombre es requerido.
                    </div>
                    <div *ngIf="formularioRegistro.get('nombre')?.errors?.['minlength']">
                        El nombre debe tener al menos 4 caracteres.
                    </div>
                    <div *ngIf="formularioRegistro.get('nombre')?.errors?.['maxlength']">
                        El nombre no debe exceder los 145 caracteres.
                    </div>
                </div>


                <label for="name">Apellido Paterno</label>
                <input type="text" class="form-control" formControlName="apellido_paterno"
                    placeholder="Apellido Paterno">
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['apellido_paterno'].invalid" class="error">
                    <div *ngIf="formularioRegistro.get('apellido_paterno')?.errors?.['required']">
                        El apellido paterno es requerido.
                    </div>
                    <div *ngIf="formularioRegistro.get('apellido_paterno')?.errors?.['minlength']">
                        El apellido paterno debe tener al menos 4 caracteres.
                    </div>
                    <div *ngIf="formularioRegistro.get('apellido_paterno')?.errors?.['maxlength']">
                        El apellido paterno no debe exceder los 145 caracteres.
                    </div>
                </div>

                <label for="name">Apellido Materno</label>
                <input type="text" class="form-control" formControlName="apellido_materno"
                    placeholder="Apellido Materno">
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['apellido_materno'].invalid" class="error">
                    <div *ngIf="formularioRegistro.get('apellido_materno')?.errors?.['required']">
                        El apellido materno es requerido.
                    </div>
                    <div *ngIf="formularioRegistro.get('apellido_materno')?.errors?.['minlength']">
                        El apellido materno debe tener al menos 4 caracteres.
                    </div>
                    <div *ngIf="formularioRegistro.get('apellido_materno')?.errors?.['maxlength']">
                        El apellido materno no debe exceder los 145 caracteres.
                    </div>
                </div>

                <label for="name">Escuela de Procedencia</label>
                <input type="text" class="form-control" formControlName="escuela_procedencia"
                    placeholder="Escuela de Procedencia">
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['escuela_procedencia'].invalid"
                    class="error">
                    <div *ngIf="formularioRegistro.get('escuela_procedencia')?.errors?.['required']">
                        La escuela de procedencia es requerida.
                    </div>
                    <div *ngIf="formularioRegistro.get('escuela_procedencia')?.errors?.['minlength']">
                        La escuela de procedencia debe tener al menos 3 caracteres.
                    </div>
                    <div *ngIf="formularioRegistro.get('escuela_procedencia')?.errors?.['maxlength']">
                        La escuela de procedencia no debe exceder los 145 caracteres.
                    </div>
                </div>

                <label for="name">Taller</label>
                <select class="form-control" formControlName="taller" ng-model="taller_field">
                    <option value="undefined" disabled selected>--Escoge un taller--</option>
                    <ng-container *ngFor="let item of cursos">
                        <option value="{{item.id}}">{{item.nombre}}</option>
                    </ng-container>
                </select>
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['taller'].invalid" class="error">
                    <div *ngIf="formularioRegistro.get('taller')?.errors?.['required']">
                        Escoge un taller.
                    </div>
                </div>

                <label for="name">Foto</label>
                <input type="file" class="form-control" formControlName="foto" accept="image/png, image/jpeg" (change)="onImageChanged($event)"
                    required>

                <label for="name">Referencia</label>
                <input type="text" class="form-control" formControlName="referencia" placeholder="Referencia">
                <div *ngIf="enviadoIntentado && formularioRegistro.controls['referencia'].invalid" class="error">
                    <div *ngIf="formularioRegistro.get('referencia')?.errors?.['required']">
                        La referencia es requerida.
                    </div>
                    <div *ngIf="formularioRegistro.get('referencia')?.errors?.['minlength']">
                        La referencia debe tener al menos 4 caracteres.
                    </div>
                    <div *ngIf="formularioRegistro.get('referencia')?.errors?.['maxlength']">
                        La referencia no debe exceder los 145 caracteres.
                    </div>
                </div>
                <label for="name">Comprobante de Pago</label>
                <input type="file" class="form-control" formControlName="comprobante_pago" accept=".pdf, image/png, image/jpeg" (change)="onFileChanged($event)"
                    required>

                <div class="text-center mt-4">
                    <button type="submit">Enviar Registro</button>
                </div>

            </form>
        </div>


    </div>
</section><!-- End Registro Section -->


<app-footer></app-footer>